# =============================================================================
# Hodei Verified Permissions Server - Configuration
# =============================================================================
# This file contains all available configuration options.
# Copy this file to .env and modify as needed.
#
# Configuration is loaded in the following priority order:
# 1. Environment variables (highest priority)
# 2. .env file in current directory
# 3. Default values (lowest priority)
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Host to bind the gRPC server to
SERVER_HOST=0.0.0.0

# Port to bind the gRPC server to
SERVER_PORT=50051

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Database connection URL
# Supported formats:
# - SQLite: sqlite:///path/to/database.db or sqlite:///:memory:
# - PostgreSQL: postgres://user:password@host:port/database
# - MySQL: mysql://user:password@host:port/database
# Examples:
# DATABASE_URL=sqlite:///home/rubentxu/hodei-data/hodei.db
# DATABASE_URL=sqlite:///:memory:
# DATABASE_URL=postgres://user:pass@localhost:5432/hodei_db
DATABASE_URL=sqlite:///home/rubentxu/hodei-data/hodei.db

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level for the application
# Valid values: trace, debug, info, warn, error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# gRPC Configuration
# -----------------------------------------------------------------------------
# Maximum frame size for gRPC messages (in bytes)
# Default: 4194304 (4MB)
GRPC_MAX_FRAME_SIZE=4194304

# Keep-alive time for gRPC connections (in seconds)
# Default: 30
GRPC_KEEPALIVE_TIME=30

# -----------------------------------------------------------------------------
# Shutdown Configuration
# -----------------------------------------------------------------------------
# Timeout for graceful shutdown (in seconds)
# Default: 30
SHUTDOWN_TIMEOUT=30

# -----------------------------------------------------------------------------
# TLS Configuration (Optional)
# -----------------------------------------------------------------------------
# Enable TLS for the server
# Valid values: true, false
# Default: false
TLS_ENABLED=false

# Path to TLS certificate file (required if TLS_ENABLED=true)
# Example: /path/to/cert.pem
TLS_CERT_PATH=

# Path to TLS private key file (required if TLS_ENABLED=true)
# Example: /path/to/key.pem
TLS_KEY_PATH=

# Path to client CA certificate file (optional, for client authentication)
# Example: /path/to/ca.pem
TLS_CLIENT_CA_PATH=

# =============================================================================
# Usage Examples
# =============================================================================
#
# 1. Run with default settings:
#    cargo run --bin hodei-verified-permissions
#
# 2. Override specific settings with environment variables:
#    SERVER_PORT=8080 DATABASE_URL=postgres://user:pass@localhost:5432/db cargo run
#
# 3. Use a custom .env file:
#    cargo run --bin hodei-verified-permissions
#    (make sure .env file is in the current directory)
#
# 4. Use environment variables with a custom .env file:
#    cp .env.example .env
#    # Edit .env file with your settings
#    SERVER_PORT=8080 cargo run --bin hodei-verified-permissions
#    (environment variables override .env file)
# =============================================================================
